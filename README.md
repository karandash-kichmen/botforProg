# botforProg
Опис до боту та ремарки
Сам бот знаходиться в папці 'finbotfP'. Це підрізана версія боту обліку фінансів. Так як в ньому було достатньо багато комерційної інфи. 
І поскільки цей бот використовується то я вирізав чатинки коду та деякий функціонал. Наприклад Інтеграцію платежів з CRM діловод.

### Цей бот є мінімально робочим продуктом. І я вже виявив ряд проблем в боті. І ряд критичних помилок. Помилок багато, так як я писав бота поки навчався

# По самому боту
1. Папка bot_keyboards. В ній все що стосується клавіатур для навігації
2. data_b_connect. Підключення до бази данних, отримання, запис даних в БД
3. config.py Параметри для підключення до бд
4. report_on_accounts.py Файл створення загального звіту по всім категоріям
5. requirements.txt  файл з модулями додатковими що використовуються.

# По коду програими та що я зробив/вивчив(основні).
1. Ознайомився з асинхронними функціями, та ідеологією асинхронного кода
2. Ознайомився з БД MySQL
3. Основні іструманти написання бота. Такі як. FCM, headers, callback, KeyboardMarkup, частково Мідлварі (але ще в процесі).
4. Аiocron.crontab. Асинхронний крон. В коді представлена крон задача в finbotfP/fbot.py 30 стрічка. Котра формує щомісячно залишки на разунках
та записує іх в бд

# Проблеми коду
Так як це мій перший проект, аще й виконувався як мінімально робочий продукт для того щоб зрозуміти шо в принципі можна зробити
в ньому дуже багато помилок
1. Коментування коду. Дуже скудно з коментаріями
2. Док по функціях та анотування
3. !!! Відсутність архітектури коду (я вже приблизно розумію як то виправити)
4. !!! Проблеми з самою бд. Вона не коректна і маштабувати бота то складна затія стала
5. Цей момент я толком ще не пропрацював. Але робити запити в бд форматуванням стрічки, то погана тема. Кажуть треба ін'єкції робити
6. Логін в бота проблемний. Поки опрацбовує тільки 1 адміна
7. Чистота коду. Дуже багато порушення правила "Не повторюй себе". В коді багато "завого теста", перенавантажених конструкцій

###
Що далі?
Буде версія коду 2.0 з побажаннями теперішнього користувача. В ній буде реалізовано
1. Класи. (Наприклад робота з категоріями як з об'єктом) Групи користувачів(адмін, бухгалтер, менеджер, кладовщик ...), користувачи
2. Коректна архітектура коду. Вже знайшов декілька темплейтів які я перероблюю під себе та на їх базі буду писати бота
3. Архітектура БД. Пропрацювати БД яка б відповідала 3й нормальній формі, мала звязки таблиць.
4. Інтеграції з основними сервісами. НП, CRM Діловод, CMS Хорошоп, адмінка бізнесу (яку я напишу скріш за все на джанго, але потім)
5. !!! Нормальне документування, анотування, коментування коду
6. Буду старатись прописувати не 500 стрічок коду. А реалізовувати функції і класи, а також слідкувати за правилом "Не повторюй себе"
7. Безпека! Сесії, Мідлвари, Фільтри, для забезпечення адекватної безпеки бота.
8. VPS. Так як всі свой продукти я розиміщую саме на сервері то необхідно провести його більш коректні налаштування. (Сервер на Ubuntu 22.04)
